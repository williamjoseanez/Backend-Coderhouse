<h1>Productos Paginate</h1>

<div id="product-container">
  {{#each products}}
    <div class="card">
      <img src="{{this.thumbnail}}" class="card-img-top" alt="{{this.title}}" />
      <p>Title: {{this.title}}</p>
      <p>Description: {{this.description}}</p>
      <p>Price: $ {{this.price}}</p>
      <p>Category: {{this.category}}</p>
      <p>ID:{{this._id}}</p>
      <a href="/productsdetail" onclick="openProduct('{{this._id}}')"><button
        >Detalles</button></a>
            {{!-- <button onclick="viewDetails('{{this._id}}')">Detalles</button> --}}
      <button onclick="addToCart('{{this._id}}')">Agregar al Carrito</button>
    </div>
  {{/each}}
</div>

<div id="pagination">
  {{#if hasNextPage}}
    <a href="/products?page={{nextPage}}">Siguiente</a>
  {{/if}}
  {{#if hasPrevPage}}
    <a href="/products?page={{prevPage}}">Anterior</a>
  {{/if}}

</div>

<p>Página actual: {{currentPage}} de {{totalPages}}</p>

<script>
  function openProduct(productId) { // Abrir el producto en una nueva página
  window.open(`/productsdetail/${productId}`, '_blank'); }

   function viewDetails(productId) {
    // Redireccionar a la página de detalles del producto
    window.location.href = `/productsdetail/${productId}`;
  }
</script>